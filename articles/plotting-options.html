<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plotting options • arphit</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Plotting options">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">arphit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/arphit.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/plotting-options.html">Plotting options</a>
    </li>
    <li>
      <a href="../articles/qplot-options.html">qplot plotting options</a>
    </li>
    <li>
      <a href="../articles/rba-colours.html">Colour Palette</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Plotting options</h1>
            
            <h4 class="date">2019-05-10</h4>
      
      
      <div class="hidden name"><code>plotting-options.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>This vignette details all the plotting options available in <code>arphit</code>. If you are learning how to use <code>arphit</code>, you should read the <a href="getting-started.html">getting started guide</a> first.</p>
</div>
<div id="data-types" class="section level1">
<h1 class="hasAnchor">
<a href="#data-types" class="anchor"></a>Data types</h1>
<div id="tibbles-and-data-frames" class="section level2">
<h2 class="hasAnchor">
<a href="#tibbles-and-data-frames" class="anchor"></a>tibbles and data.frames</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">simple_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="dt">from =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2000-03-01"</span>),</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">                                          <span class="dt">length.out =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">                                          <span class="dt">by =</span> <span class="st">"quarter"</span>),</a>
<a class="sourceLine" id="cb1-4" data-line-number="4">                          <span class="dt">y1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">                          <span class="dt">y2 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">                          <span class="dt">y3 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb1-7" data-line-number="7">                          <span class="dt">y4 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">long_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="dt">from =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2000-03-01"</span>),</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">                                            <span class="dt">length.out =</span> <span class="dv">10</span>,</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">                                            <span class="dt">by =</span> <span class="st">"quarter"</span>), <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">                        <span class="dt">y1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">20</span>),</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">                        <span class="dt">y2 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">20</span>),</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">                        <span class="dt">group_var =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"A"</span>, <span class="dv">10</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"B"</span>, <span class="dv">10</span>)))</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">scatter_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>), <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>))</a></code></pre></div>
</div>
<div id="ts" class="section level2">
<h2 class="hasAnchor">
<a href="#ts" class="anchor"></a>ts</h2>
<p>Here we create a time series starting in 2000Q1 (<code>frequency = 4</code> means quarterly) with 10 random observations for two variables: <code>x1</code> and <code>x2</code>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">ts_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/ts">ts</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>), <span class="dt">x2 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>)), <span class="dt">frequency =</span> <span class="dv">4</span>, <span class="dt">start =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2000</span>, <span class="dv">1</span>))</a></code></pre></div>
</div>
</div>
<div id="layouts-and-panels" class="section level1">
<h1 class="hasAnchor">
<a href="#layouts-and-panels" class="anchor"></a>Layouts and panels</h1>
<p>There are nine supported layouts, with up to 8 panels. <em>Right hand side axes count as separate panels in some layouts.</em> Panels are numbered from left to right, top to bottom.</p>
<ol style="list-style-type: decimal">
<li>One-panel “1”. This is the default if you do not supply a value for <code>layout</code>. Despite its name this layout has <em>two</em> panels. Panel “1” corresponds to the left axis; panel “2” corresponds to the right axis.</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="layout_1.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="2" style="list-style-type: decimal">
<li>Two-panel vertical “2v”. This layout has two panels, divided vertically. Panel “1” is the left panel, panel “2” the right.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2v"</span>)</a></code></pre></div>
<p><img src="layout_2v.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="3" style="list-style-type: decimal">
<li>Two-panel horizontal “2h”. This layout has <em>four</em> panels. Panels “1” and “2” are the left and right axes of the top panel. “3” and “4” for the bottom.</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2h"</span>)</a></code></pre></div>
<p><img src="layout_2h.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="4" style="list-style-type: decimal">
<li>Two-by-two “2b2”. This layout is very similar to “2h”, except the left and right panels are divided, rather than axes.</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2b2"</span>)</a></code></pre></div>
<p><img src="layout_2b2.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="5" style="list-style-type: decimal">
<li>Three panel vertical “3v”:</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"3v"</span>)</a></code></pre></div>
<p><img src="layout_3v.png" width="50%" style="display: block; margin: auto;"> 6. Three panel horizontal “3h” (has left and right axes, like “2h”):</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"3h"</span>)</a></code></pre></div>
<p><img src="layout_3h.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="7" style="list-style-type: decimal">
<li>Six panel three-by-two “3b2”:</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"3b2"</span>)</a></code></pre></div>
<p><img src="layout_3b2.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="8" style="list-style-type: decimal">
<li>Four panel horizontal “4h” (has left and right axes like “2h”):</li>
</ol>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"4h"</span>)</a></code></pre></div>
<p><img src="layout_4h.png" width="50%" style="display: block; margin: auto;"></p>
<ol start="9" style="list-style-type: decimal">
<li>Eight panel four-by-two “4b2”:</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"4b2"</span>)</a></code></pre></div>
<p><img src="layout_4b2.png" width="50%" style="display: block; margin: auto;"></p>
<div id="portrait-size-graphs" class="section level2">
<h2 class="hasAnchor">
<a href="#portrait-size-graphs" class="anchor"></a>Portrait-size graphs</h2>
<p>If you want a larger, portrait size layout, simply pass in <code>portait = TRUE</code>. This works with any of the layouts.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">portrait =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="layout_portrait.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="advanced-custom-graph-sizes" class="section level2">
<h2 class="hasAnchor">
<a href="#advanced-custom-graph-sizes" class="anchor"></a>(Advanced) Custom graph sizes</h2>
<p>You can also manually specify the plot size if you want greater control. This size is for the <em>whole</em> graph - i.e. the size of the graph, not the size of a panel. Units are inches (the graphs have been scaled to half original size when included in this document).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">plotsize =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span>,<span class="dv">10</span>))</a></code></pre></div>
<p><img src="plotsize.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="layers-and-aesthetics" class="section level1">
<h1 class="hasAnchor">
<a href="#layers-and-aesthetics" class="anchor"></a>Layers and aesthetics</h1>
<div id="aesthetic" class="section level2">
<h2 class="hasAnchor">
<a href="#aesthetic" class="anchor"></a>Aesthetic</h2>
<p>An aesthetic is the definition of a layer. It tells arphit how to display the data.</p>
<div id="x-and-y" class="section level3">
<h3 class="hasAnchor">
<a href="#x-and-y" class="anchor"></a><code>x</code> and <code>y</code>
</h3>
<p>The <code>x</code> and <code>y</code> variables speak for themselves. They must be variables in your dataset. (<code>x</code> values can be categorical). Aesthetics can also be expressions, rather than single variables - see the section on tidy evaluation below.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> simple_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1))</a></code></pre></div>
<p><img src="no-group-aes.png" width="50%" style="display: block; margin: auto;"></p>
<p>If your data are a <code>ts</code>, the <code>x</code> aesthetic does not need to specified, it is automatically the dates in the time series.</p>
</div>
<div id="inheriting-aesthetics" class="section level3">
<h3 class="hasAnchor">
<a href="#inheriting-aesthetics" class="anchor"></a>Inheriting aesthetics</h3>
<p>Aesthetics inherit from their parent. That is, if you omit part of an aesthetic in the definition of a layer, it will inherit from the parent (if it exists). If you specify both a parent aesthetic and a layer aesthetic, the layer aesthetic overrides.</p>
<p>In this example, the whole aesthetic is inherited:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">data =</span> simple_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="inherit-aes-all.png" width="50%" style="display: block; margin: auto;"></p>
<p>In this example, we specify the<code>x</code> aesthetic in the parent, but specify the y aesthetic in the layer. This is helpful if, for instance, you have many <code>y</code> variables you want to plot that all have the same <code>x</code> variable.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">data =</span> simple_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y1))</a></code></pre></div>
<p><img src="inherit-aes-some.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="groups" class="section level3">
<h3 class="hasAnchor">
<a href="#groups" class="anchor"></a>Groups</h3>
<p>An aesthetic can also specify a <code>group</code> variable. This is used when your data is in long form and you have multiple observations on each <code>x</code> observation, corresponding to different variables. For instance, <code>x</code> might be the date column, <code>y</code> the column containing observations of the unemployment rate and <code>group</code> the column containing state identifiers.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> long_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var))</a></code></pre></div>
<p><img src="group-aes.png" width="50%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">candle &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>],<span class="dv">3</span>),<span class="dt">y=</span><span class="dv">1</span><span class="op">:</span><span class="dv">30</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> candle, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">group =</span> x))</a></code></pre></div>
<p><img src="group-by-x.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="facets" class="section level3">
<h3 class="hasAnchor">
<a href="#facets" class="anchor"></a>Facets</h3>
<p>An aesthetic can also specify a <code>facet</code> variable. <code>facet</code>s work like <code>group</code>s, except that facets are split across panels (and so layers ignore if you give them a panel).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> long_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">facet =</span> group_var))</a></code></pre></div>
<p><img src="facet.png" width="50%" style="display: block; margin: auto;"></p>
<p>Data can have both <code>group</code>s and <code>facet</code>s.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">facet_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dv">4</span>),</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">                         <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">8</span>),</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">                         <span class="dt">age =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"A"</span>, <span class="dv">4</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"B"</span>, <span class="dv">4</span>)),</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">                         <span class="dt">sex =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"F"</span>,<span class="st">"F"</span>,<span class="st">"M"</span>,<span class="st">"M"</span>), <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> facet_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y, <span class="dt">group =</span> sex, <span class="dt">facet =</span> age))</a></code></pre></div>
<p><img src="facet-group.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="ordering-of-graphs" class="section level3">
<h3 class="hasAnchor">
<a href="#ordering-of-graphs" class="anchor"></a>Ordering of graphs</h3>
<p>By default, graphs are ordered by the value of their x-ticks (that is, either numerically or alphabetically, depending on what your x-ticks are).</p>
<p>You can instead specify a variable to order the graph by using the <code>order</code> part of the aesthetic.</p>
<p>Ordering a bar chart by value:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">order_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>],</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">                         <span class="dt">y=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(order_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">order=</span>y))</a></code></pre></div>
<p><img src="aes-order-value.png" width="50%" style="display: block; margin: auto;"></p>
<p>If you have groups and want to order by value, you need to specify which <em>group’s</em> value you want to use as the order. This will apply that order to every group.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">order_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>],</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">                         <span class="dt">y=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb22-3" data-line-number="3">                         <span class="dt">group =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"A"</span>,<span class="dv">5</span>),<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"B"</span>,<span class="dv">5</span>)))</a>
<a class="sourceLine" id="cb22-4" data-line-number="4">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(order_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">group=</span>group,<span class="dt">order=</span>A))</a></code></pre></div>
<p><img src="aes-order-value-group.png" width="50%" style="display: block; margin: auto;"></p>
<p>You can order in descending value using the <code>desc</code> function - see the section on tidy evaluation below. E.g.:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">order_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>],</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">                         <span class="dt">y=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(order_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">order=</span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(y))) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>()</a></code></pre></div>
<p><img src="aes-order-value-desc.png" width="50%" style="display: block; margin: auto;"></p>
<p>A third alternative way is to use another variable to define the order. In this example we take data and order it by a variable <code>order</code> that is the reverse of the x variable.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1">order_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>], <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">            <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb24-3" data-line-number="3">            <span class="dt">group =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"A"</span>, <span class="dv">10</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"B"</span>, <span class="dv">10</span>)),</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">            <span class="dt">order =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(letters[<span class="dv">10</span><span class="op">:</span><span class="dv">1</span>], <span class="dv">2</span>),</a>
<a class="sourceLine" id="cb24-5" data-line-number="5">            <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb24-6" data-line-number="6">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(order_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">group=</span>group,<span class="dt">order=</span>order)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>(<span class="dt">stacked =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="aes-order.png" width="50%" style="display: block; margin: auto;"></p>
<p>You can use a separate order variable with groups, but the ordering variable must uniquely associate with each x value and this ordering must be consistent across all groups. If not, otherwise the ordering of x values is ambiguous.</p>
</div>
<div id="tidy-evaluation-and-aesthetics" class="section level3">
<h3 class="hasAnchor">
<a href="#tidy-evaluation-and-aesthetics" class="anchor"></a>Tidy evaluation and aesthetics</h3>
<p>Aesthetics support tidy evaluation. This means that your aesthetic can actually be an expression, which is evaluated in the environment of your data. This means you can undertake <em>transformations</em> of your data within how you define the aesthetic. The most common use for this is to order graphs in descending order:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">order_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span>letters[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>],</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">                         <span class="dt">y=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>),</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">                         <span class="dt">group =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"A"</span>,<span class="dv">5</span>),<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"B"</span>,<span class="dv">5</span>)))</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(order_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">group=</span>group,<span class="dt">order=</span><span class="kw">desc</span>(A)))</a></code></pre></div>
<p><img src="aes-order-value-desc.png" width="50%" style="display: block; margin: auto;"></p>
<p>But you can use any expression you like, in any part of the aesthetic. For instance, we can easily create a quadratic:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span><span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>), <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>x<span class="op">^</span><span class="dv">2</span>))<span class="op">+</span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="aes-tidy-quadratic.png" width="50%" style="display: block; margin: auto;"></p>
<p>Or we could group by a combination of two variables:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">two_group_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dv">4</span>),</a>
<a class="sourceLine" id="cb27-2" data-line-number="2">                             <span class="dt">y=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">8</span>),</a>
<a class="sourceLine" id="cb27-3" data-line-number="3">                             <span class="dt">g1=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"a"</span>,<span class="dv">4</span>),<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="st">"b"</span>,<span class="dv">4</span>)),</a>
<a class="sourceLine" id="cb27-4" data-line-number="4">                             <span class="dt">g2=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">2</span>),<span class="dv">2</span>))</a></code></pre></div>
<p>Here <code>g1</code> and <code>g2</code> together define a unique group, so we set the group aesthetic to the interaction of <em>both</em> variables:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(two_group_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y,<span class="dt">group=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(g1,g2))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>(<span class="dt">stacked =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_legend.html">agg_legend</a></span>()</a></code></pre></div>
<p><img src="aes-tidy-double-group.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="layers" class="section level2">
<h2 class="hasAnchor">
<a href="#layers" class="anchor"></a>Layers</h2>
<p>A layer is a series (or group of series) built from the same aesthetic. In <code>arphit</code>, layers must be assigned to a panel. You can have more than one layer per panel.</p>
<p>All require have four common arguments, and some layers have extra options to define their look:</p>
<ol style="list-style-type: decimal">
<li>Data</li>
<li>Aesthetic</li>
<li>Panel (defaults to “1” if not supplied)</li>
<li>Colour (optional)</li>
</ol>
<p><em>NB:</em> Layers will inherit data and aesthetic from their parent if omitted. This is helpful if you want to define multiple layers from the one dataset. (Example below)</p>
<p>You can assign the same layer to multiple panels in one call by specifying a <em>vector</em> of panel names. E.g. <code>panel = c("1","2")</code>.</p>
<p>There are three types of layers, <code>agg_line</code>, <code>agg_point</code> and <code>agg_col</code>. These are used nearly identically to produce line, scatter and column graphs respectively:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2h"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> long_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var), <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>(<span class="dt">data =</span> long_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y2, <span class="dt">group =</span> group_var), <span class="dt">panel =</span> <span class="st">"3"</span>)</a></code></pre></div>
<p><img src="layers.png" width="50%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_point.html">agg_point</a></span>(<span class="dt">data =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>), <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>)), <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y), <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="scatter.png" width="50%" style="display: block; margin: auto;"></p>
<p>Layers will inherit data and aesthetic (or parts of the aesthetic) if these are left null in the layer specification. This is handy to save you from having to repeat yourself:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(long_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">group =</span> group_var), <span class="dt">layout =</span> <span class="st">"2h"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y1), <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>(<span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y2), <span class="dt">panel =</span> <span class="st">"3"</span>)</a></code></pre></div>
<p><img src="inherit.png" width="50%" style="display: block; margin: auto;"></p>
<div id="line-layers" class="section level3">
<h3 class="hasAnchor">
<a href="#line-layers" class="anchor"></a>Line layers</h3>
<p><code>agg_line</code> layers convert data and an aesthetic into line series in the chosen panel (or, panels if you set a facet variable in the aesthetic).</p>
<p>There are 7 options for line layers. What the options do is covered in more detail below.</p>
<ul>
<li>The dataset to be drawn (<code>data</code>)</li>
<li>The aesthetic that defines how to turn the data into a graph (<code>aes</code>)</li>
<li>The colour (or colours) for the series (<code>colour</code>)</li>
<li>Point markers for the series (<code>pch</code>)</li>
<li>The line type - e.g. solid or dashed - for the sereis (<code>lty</code>)</li>
<li>The linewidth of the lines (<code>lwd</code>)</li>
<li>The size of the point markers (<code>pointsize</code>). Only has any effect if <code>pch</code> is not NA.</li>
<li>Which panel to plot the series on (<code>panel</code>). This is ignored if the aesthetic defines a facet variable.</li>
</ul>
</div>
<div id="columnbar-layers" class="section level3">
<h3 class="hasAnchor">
<a href="#columnbar-layers" class="anchor"></a>Column/bar layers</h3>
<p><code>agg_col</code> layers plot data as a vertical column graph. They have 6 options. What the options do is covered in more detail below.</p>
<ul>
<li>The aesthetic that defines how to turn the data into a graph (<code>aes</code>)</li>
<li>The dataset to be drawn (<code>data</code>)</li>
<li>The colour (or colours) for the series (<code>colour</code>)</li>
<li>The colour for the outline of the bars (<code>barcol</code>)</li>
<li>Which panel to plot the series on (<code>panel</code>). This is ignored if the aesthetic defines a facet variable.</li>
<li>Whether the bars should be stacked (default) or grouped (<code>stacked</code>). This is a global option; you cannot combine stacked and grouped layers.</li>
</ul>
</div>
<div id="pointscatter-layers" class="section level3">
<h3 class="hasAnchor">
<a href="#pointscatter-layers" class="anchor"></a>Point/scatter layers</h3>
<p><code>agg_point</code> layers are just a wrapper around <code>agg_line</code> that set the line to NA, and the point marker (<code>pch</code>) to <code>19</code> for solid dots. Naturally, this layer type is best for scatter graphs, as they quicker and easier than constructing your own <code>agg_line</code> layer.</p>
<p><code>agg_point</code> has only 5 options Data (<code>data</code>), aesthetic (<code>aes</code>), panel (<code>panel</code>), colour for the markers (<code>colour</code>) and a size for the points (<code>pointsize</code>). As with other layer types, data and aesthetic (including parts of an aesthetic) will be inherited from the parent if omitted.</p>
</div>
</div>
</div>
<div id="series-colours-and-other-attributes" class="section level1">
<h1 class="hasAnchor">
<a href="#series-colours-and-other-attributes" class="anchor"></a>Series colours and other attributes</h1>
<div id="colours" class="section level2">
<h2 class="hasAnchor">
<a href="#colours" class="anchor"></a>Colours</h2>
<p>Specifying line, bar or point (depending on layer type) colours for series is done when creating a layer. For instance:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> simple_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1), <span class="dt">colour =</span> RBA[<span class="st">"Red1"</span>])</a></code></pre></div>
<p><img src="simplecolour.png" width="50%" style="display: block; margin: auto;"></p>
<p>This colour is applied to <em>all</em> series in the layer. This is less helpful when you have a group variable, since they will all show up as the same colour (which is unlikely to be what you want). E.g. this is not helpful:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> long_data,</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">           <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var),</a>
<a class="sourceLine" id="cb33-4" data-line-number="4">           <span class="dt">colour =</span> RBA[<span class="st">"Red1"</span>])</a></code></pre></div>
<p><img src="group-single-colour.png" width="50%" style="display: block; margin: auto;"></p>
<p>To specify for different colours for different series in a grouped layer, you can instead specify a <em>vector</em> of colours:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">data =</span> long_data,</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">           <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var),</a>
<a class="sourceLine" id="cb34-4" data-line-number="4">           <span class="dt">colour =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(RBA[<span class="st">"Red1"</span>], RBA[<span class="st">"Blue4"</span>]))</a></code></pre></div>
<p><img src="group-multi-colour.png" width="50%" style="display: block; margin: auto;"></p>
<p>(NB: <code>arphit</code> will cycle through the supplied vector colours if there aren’t enough in the vector to cover the number of series in the layer.)</p>
<p>To see the full list of availble colours type <code><a href="../articles/rba-colours.html">vignette("rba-colours", package = "arphit")</a></code>.</p>
<p>Alternatively, you can use any colour that R recognises.</p>
<p>If you don’t specify colours, arphit cycles through a set of default colours. Should you need to (e.g. for labels) you can access the default colours using the alias <code>RBA["Default1"]</code> etc.</p>
<div id="advanced-defining-your-own-default-colours" class="section level3">
<h3 class="hasAnchor">
<a href="#advanced-defining-your-own-default-colours" class="anchor"></a>(Advanced) Defining your own default colours</h3>
<p>If you want to define your own set of default colours to be used set the option <code>arphit.user_colours</code> with a vector of colours. Putting this into your <code>.Rprofile</code> is sensible.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/options">options</a></span>(<span class="dt">arphit.user_colours =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(RBA[<span class="st">"Red1"</span>],RBA[<span class="st">"Blue10"</span>],RBA[<span class="st">"Olive1"</span>]))</a></code></pre></div>
</div>
</div>
<div id="line-markers" class="section level2">
<h2 class="hasAnchor">
<a href="#line-markers" class="anchor"></a>Line markers</h2>
<p><code>pch</code> allows you to add markers to your series. These directly follow the R options. These are specified like colours (setting one will apply it to all series in the layer, a vector will be cycled through).</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1), <span class="dt">pch =</span> <span class="dv">19</span>)</a></code></pre></div>
<p><img src="pch.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="line-type" class="section level2">
<h2 class="hasAnchor">
<a href="#line-type" class="anchor"></a>Line type</h2>
<p><code>lty</code> allows you to control the line type - e.g. add dashing. These directly follow the R options. These are specified like colours (setting one will apply it to all series in the layer, a vector will be cycled through).</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1), <span class="dt">lty =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="lty.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="line-width" class="section level2">
<h2 class="hasAnchor">
<a href="#line-width" class="anchor"></a>Line width</h2>
<p><code>lwd</code> controls the width of the line. 1 corresponds to default. 2 to twice default, 0.5 half it, etc. These are specified like colours (setting one will apply it to all series in the layer, a vector will be cycled through).</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1), <span class="dt">lwd =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="lwd.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="bar-outline" class="section level2">
<h2 class="hasAnchor">
<a href="#bar-outline" class="anchor"></a>Bar outline</h2>
<p><code>barcol</code> lets you set the colour of the bar outline for <code>agg_col</code> layers. By default, this is <code>NA</code>, meaning no outline. These are specified like colours (setting one will apply it to all series in the layer, a vector will be cycled through).</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1), <span class="dt">barcol =</span> <span class="st">"black"</span>)</a></code></pre></div>
<p><img src="barcol.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="point-size" class="section level2">
<h2 class="hasAnchor">
<a href="#point-size" class="anchor"></a>Point size</h2>
<p><code>pointsize</code> lets change the size of plot markers on <code>agg_line</code> or <code>agg_point</code> layers. By default, this is 1, meaning the default size. These are specified like colours (setting one will apply it to all series in the layer, a vector will be cycled through).</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">15</span>),<span class="dt">y=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">15</span>))) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_point.html">agg_point</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y), <span class="dt">pointsize =</span> <span class="dv">2</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_point.html">agg_point</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y))</a></code></pre></div>
<p><img src="pointsize.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="titles-and-subtitles" class="section level1">
<h1 class="hasAnchor">
<a href="#titles-and-subtitles" class="anchor"></a>Titles and subtitles</h1>
<p>Titles and subtitles are added using <code>agg_title</code> and <code>agg_subtitle</code> respectively. The only required argument is the text for the title/subtitle:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_title.html">agg_title</a></span>(<span class="st">"Graph Title Goes Here"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_subtitle.html">agg_subtitle</a></span>(<span class="st">"Or a subtitle, if you like"</span>)</a></code></pre></div>
<p><img src="title.png" width="50%" style="display: block; margin: auto;"></p>
<p><code>arphit</code> will automatically place linebreaks in long titles but may not be smart enough in all cases. You can insert linebreaks yourself as necessary by using “\n”.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_title.html">agg_title</a></span>(<span class="st">"Here is a very very very long title that arphit will automatically put a break in"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_subtitle.html">agg_subtitle</a></span>(<span class="st">"And a subtitle</span><span class="ch">\n</span><span class="st">with a manual break too"</span>)</a></code></pre></div>
<p><img src="longtitle.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="panel-titles-and-subtitles" class="section level1">
<h1 class="hasAnchor">
<a href="#panel-titles-and-subtitles" class="anchor"></a>Panel titles and subtitles</h1>
<p>You can add titles and subtitles to panels in much the same way as titles and subtitles. Allyou do is specify <code>panel</code> as an argument:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_title.html">agg_title</a></span>(<span class="st">"Panel title for panel 1"</span>, <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_subtitle.html">agg_subtitle</a></span>(<span class="st">"And a subtitle"</span>, <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="paneltitles.png" width="50%" style="display: block; margin: auto;"></p>
<p>You can also apply the same title to multiple panels at once using a vector of panel names <code>panel = c("1","3")</code>.</p>
</div>
<div id="units" class="section level1">
<h1 class="hasAnchor">
<a href="#units" class="anchor"></a>Units</h1>
<p>You can specify the units for your graph using the <code>agg_units</code> function. This can be used either with or without a panel specifier. If called without a panel specifier, the units are applied to all panels, otherwise the units are added only to specified panel:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/agg_units.html">agg_units</a></span>(<span class="st">"index"</span>)</a></code></pre></div>
<p><img src="units-all.png" width="50%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb45-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_units.html">agg_units</a></span>(<span class="st">"index"</span>, <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb45-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_units.html">agg_units</a></span>(<span class="st">"ppt"</span>, <span class="dt">panel =</span> <span class="st">"2"</span>)</a></code></pre></div>
<p><img src="units-specific.png" width="50%" style="display: block; margin: auto;"></p>
<p>You can also apply the same units to multiple panels at once using a vector of panel names <code>panel = c("1","3")</code>.</p>
<div id="x-axis-units" class="section level2">
<h2 class="hasAnchor">
<a href="#x-axis-units" class="anchor"></a>x-axis units</h2>
<p>You can also add units for the x-axis in much the same way. These are ignored for anything other than scatter graphs.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(scatter_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_point.html">agg_point</a></span>() <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/agg_xunits.html">agg_xunits</a></span>(<span class="st">"ppt"</span>)</a></code></pre></div>
<p><img src="x-units.png" width="50%" style="display: block; margin: auto;"></p>
<p>You can also apply the same units to multiple panels at once using a vector of panel names <code>panel = c("1","3")</code>.</p>
</div>
</div>
<div id="sources-and-footnotes" class="section level1">
<h1 class="hasAnchor">
<a href="#sources-and-footnotes" class="anchor"></a>Sources and footnotes</h1>
<p>Adding sources and footnotes is done using <code>agg_source</code> and <code>agg_footnote</code>. You can pass in a single text string, or a vector of multiple strings. You can add as many <code>agg_source</code>/<code>agg_footnote</code> as you like:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb47-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_source.html">agg_source</a></span>(<span class="st">"Source 1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb47-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_source.html">agg_source</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Source 2 (as a vector)"</span>, <span class="st">"Source 3 (vectors are easy!"</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb47-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_footnote.html">agg_footnote</a></span>(<span class="st">"This is my first footnoote"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb47-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/agg_footnote.html">agg_footnote</a></span>(<span class="st">"This is a second footnote"</span>)</a></code></pre></div>
<p><img src="sources.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="axis-limits" class="section level1">
<h1 class="hasAnchor">
<a href="#axis-limits" class="anchor"></a>Axis limits</h1>
<div id="y-axis" class="section level2">
<h2 class="hasAnchor">
<a href="#y-axis" class="anchor"></a>Y axis</h2>
<p><code>arphit</code> will automatically guess axes for each panel. However, it is not smart enough to sensibly line up axes across panels (e.g. if you have left and right axes). And stacked bar graphs will confuse it.</p>
<p>Y-limits can be controlled with <code>agg_ylim</code>. This function takes three required arguments: a minimum, a maximum, and the number of steps to include. You can optionally include a panel identifier; if omitted, the limits will be applied to all panels. You can alternatively apply the same limits to a set of panels at once using a vector of panel names <code>panel = c("1","3")</code>.</p>
<div id="example-1-manually-setting-left-and-right-axes" class="section level3">
<h3 class="hasAnchor">
<a href="#example-1-manually-setting-left-and-right-axes" class="anchor"></a>Example 1: Manually setting left and right axes</h3>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date,<span class="dt">y=</span>y1),<span class="dt">panel=</span><span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date,<span class="dt">y=</span>y1),<span class="dt">panel=</span><span class="st">"2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb48-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_ylim.html">agg_ylim</a></span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>,<span class="dt">panel=</span><span class="st">"1"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb48-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/agg_ylim.html">agg_ylim</a></span>(<span class="op">-</span><span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dt">panel=</span><span class="st">"2"</span>)</a></code></pre></div>
<p><img src="ylim-left-right-axes.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="example-2-applying-the-same-y-axis-to-all-panels" class="section level3">
<h3 class="hasAnchor">
<a href="#example-2-applying-the-same-y-axis-to-all-panels" class="anchor"></a>Example 2: Applying the same y axis to all panels</h3>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date,<span class="dt">y=</span>y1),<span class="dt">panel=</span><span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date,<span class="dt">y=</span>y1),<span class="dt">panel=</span><span class="st">"2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb49-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_ylim.html">agg_ylim</a></span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">5</span>)</a></code></pre></div>
<p><img src="ylim-all-axes.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="x-axis" class="section level2">
<h2 class="hasAnchor">
<a href="#x-axis" class="anchor"></a>X axis</h2>
<p>X-limits are controlled using <code>agg_xlim</code>. This is similar to y-limits, but only a minimum and maximum is required. For time series graphs, you can use part years if desired by adding decimal places (e.g. <code>2000.5</code>).</p>
<p>As with the y-axis you can specify a panel identifier to apply the limits to a specific panel; if you omit the panel identifier, the limits will be applied to all panels. You can alternatively apply the same limits to a set of panels at once using a vector of panel names <code>panel = c("1","3")</code>.</p>
<p>Very fine-grained control of x-ticks is not possible; x-ticks are determined by your x-variables.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb50-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_xlim.html">agg_xlim</a></span>(<span class="dv">1998</span>, <span class="dv">2008</span>)</a></code></pre></div>
<p><img src="x-axis-lim.png" width="50%" style="display: block; margin: auto;"></p>
<p>You can specify only an upper or lower bound by setting the other the <code>NA</code>. For instance, to start the above graph at <code>2001</code> but let the data determine where to end it:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_xlim.html">agg_xlim</a></span>(<span class="dv">2001</span>, <span class="ot">NA</span>)</a></code></pre></div>
<p><img src="x-axis-lim-single-arg.png" width="50%" style="display: block; margin: auto;"></p>
<p>Time series graphs with data that gets close to the right hand axis will automatically add a small margin of spacing to the right hand side. You can stop this by setting a manual x-limit for the right hand side. Vertically divided time series graphs always add a margin.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">close_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2000-03-01"</span>),<span class="dt">by=</span><span class="st">"quarter"</span>,<span class="dt">length.out=</span><span class="dv">20</span>),</a>
<a class="sourceLine" id="cb52-2" data-line-number="2">                         <span class="dt">y1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb52-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(close_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb52-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="x-axis-padding.png" width="50%" style="display: block; margin: auto;"></p>
<p>For layouts with vertical division (e.g. “2v”, “2b2” etc), you can drop the the first tick of the right hand panel by setting <code>dropxlabel = TRUE</code> in <code>arphitgg</code>. This prevents the last label of the left hand panel overlapping the first of the right hand panel.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1), <span class="dt">layout =</span> <span class="st">"2v"</span>, <span class="dt">dropxlabel =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">panel =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"1"</span>,<span class="st">"2"</span>))</a></code></pre></div>
<p><img src="drop-x-label.png" width="50%" style="display: block; margin: auto;"></p>
<p>By default categorical graphs have all their x ticks displayed. You can change this behaviour (if your x-ticks are overlapping) to only display an automatically determined limited set of x-ticks by setting <code>showallxlabels = FALSE</code> in the call to <code>arphitgg</code>:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1">foo &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/paste">paste</a></span>(<span class="st">"label"</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">9</span>),<span class="dt">y=</span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span>)</a>
<a class="sourceLine" id="cb54-2" data-line-number="2">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(foo, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>x,<span class="dt">y=</span>y), <span class="dt">showallxlabels =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/agg_col.html">agg_col</a></span>()</a></code></pre></div>
<p><img src="showallxlabel.png" width="50%" style="display: block; margin: auto;"></p>
<div id="frequency-of-x-axis" class="section level3">
<h3 class="hasAnchor">
<a href="#frequency-of-x-axis" class="anchor"></a>Frequency of x axis</h3>
<p>For time series graphs, <code>arphit</code> will automatically choose the frequency of the ticks on the x axis. Any graph covering less than a year will use months, less than 3 years quarters and greater than 50 years decades. (Note that vertically divided graphs will swap to decades sooner, due to the compression of the x-axis).</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1">decades_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="dt">from=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"1950-06-01"</span>),<span class="dt">by=</span><span class="st">"year"</span>,<span class="dt">length=</span><span class="dv">50</span>),</a>
<a class="sourceLine" id="cb55-2" data-line-number="2">                                   <span class="dt">y1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">50</span>))</a>
<a class="sourceLine" id="cb55-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(decades_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb55-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="decades.png" width="50%" style="display: block; margin: auto;"></p>
<p>Automatic x-limits respect the frequency. If your axis is in quarters or months, <code>arphit</code> will set the limits to the first and last quarter/month of data:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">partial_quarter_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="dt">from=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2000-03-01"</span>),<span class="dt">by=</span><span class="st">"quarter"</span>,<span class="dt">length=</span><span class="dv">9</span>),</a>
<a class="sourceLine" id="cb56-2" data-line-number="2">                                   <span class="dt">y1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">9</span>))</a>
<a class="sourceLine" id="cb56-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(partial_quarter_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb56-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="quarter-partial-year.png" width="50%" style="display: block; margin: auto;"></p>
<p>If you want override the automatically chosen frequency, you can use <code>agg_xaxisfreq</code>. Valid options are <code>decade</code>, <code>year</code>, <code>quarter</code> and <code>month</code>. You can specify panels too if desired.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1">partial_quarter_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">date =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="dt">from=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2000-03-01"</span>),<span class="dt">by=</span><span class="st">"quarter"</span>,<span class="dt">length=</span><span class="dv">9</span>),</a>
<a class="sourceLine" id="cb57-2" data-line-number="2">                                   <span class="dt">y1 =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">9</span>))</a>
<a class="sourceLine" id="cb57-3" data-line-number="3">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(partial_quarter_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date, <span class="dt">y=</span>y1)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb57-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb57-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/agg_xaxisfreq.html">agg_xaxisfreq</a></span>(<span class="st">"year"</span>)</a></code></pre></div>
<p><img src="manual-year.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="log-axes" class="section level2">
<h2 class="hasAnchor">
<a href="#log-axes" class="anchor"></a>Log axes</h2>
<p>You can make either or both of the <code>y</code> and <code>x</code> axes log scales (<code>x</code> only makes sense for scatter graphs.) Use the <code>log_scale</code> option to <code>arphitgg</code> and specify one of <code>"x"</code>, <code>"y"</code> or <code>"xy"</code>, which behave as you’d expect.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1">log_scale_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">11</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="dv">90</span>, <span class="dv">11</span>, <span class="dv">14</span>, <span class="dv">90</span>, <span class="dv">15</span>, <span class="dv">15</span>, <span class="dv">16</span>))</a>
<a class="sourceLine" id="cb58-2" data-line-number="2">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(log_scale_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y), <span class="dt">log_scale =</span> <span class="st">"y"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb58-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_ylim.html">agg_ylim</a></span>(<span class="dv">10</span>, <span class="dv">90</span>, <span class="dv">5</span>)</a></code></pre></div>
<p><img src="logscale.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="shading-between-series" class="section level1">
<h1 class="hasAnchor">
<a href="#shading-between-series" class="anchor"></a>Shading between series</h1>
<p>You can shade the area between series by adding <code>agg_shading</code>.</p>
<p>Shading is drawn in the order you add it; the first shading added is on the bottom and subsequently added shading is drawn on top of this. Series are <em>always</em> drawn on top of shading.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date)) <span class="op">+</span></a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y=</span>y1)) <span class="op">+</span></a>
<a class="sourceLine" id="cb59-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y=</span>y2)) <span class="op">+</span></a>
<a class="sourceLine" id="cb59-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_shading.html">agg_shading</a></span>(<span class="dt">from =</span> y1, <span class="dt">to =</span> y2, <span class="dt">colour =</span> RBA[<span class="st">"Blue1"</span>])</a></code></pre></div>
<p><img src="shading-single.png" width="50%" style="display: block; margin: auto;"></p>
<p>Multiple shading:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date)) <span class="op">+</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y=</span>y1)) <span class="op">+</span></a>
<a class="sourceLine" id="cb60-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y=</span>y2)) <span class="op">+</span></a>
<a class="sourceLine" id="cb60-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y=</span>y3)) <span class="op">+</span></a>
<a class="sourceLine" id="cb60-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y=</span>y4)) <span class="op">+</span></a>
<a class="sourceLine" id="cb60-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="../reference/agg_shading.html">agg_shading</a></span>(<span class="dt">from =</span> y1, <span class="dt">to =</span> y2, <span class="dt">colour =</span> RBA[<span class="st">"Blue1"</span>]) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb60-7" data-line-number="7"><span class="st">  </span><span class="kw"><a href="../reference/agg_shading.html">agg_shading</a></span>(<span class="dt">from =</span> y3, <span class="dt">to =</span> y4, <span class="dt">colour =</span> <span class="st">"lightgrey"</span>)</a></code></pre></div>
<p><img src="shading-multiple.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="plot-annotations-labels-arrows-and-lines" class="section level1">
<h1 class="hasAnchor">
<a href="#plot-annotations-labels-arrows-and-lines" class="anchor"></a>Plot annotations (labels, arrows and lines)</h1>
<div id="adding-labels-and-arrows" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-labels-and-arrows" class="anchor"></a>Adding labels and arrows</h2>
<p>You can add series labels, and arrows to aid those labels, using <code>agg_label</code> and <code>agg_arrow</code> arguments.</p>
<p><code>agg_label</code> takes 6 arguments - some are optional.</p>
<ul>
<li>
<code>text</code> is the label text. You can add line breaks in text using the <code>\n</code> character.</li>
<li>
<code>x</code> and <code>y</code> specify where (in the units on the plot) the centre of the label should be. For time series, <code>x</code> is in decimal years (i.e. 2000.5 is July 2, 2000). For categorical graphs, 1 corresponds to the first categories, 2 to the second, etc.</li>
<li>
<code>panel</code> specifies which panel to place the label on.</li>
<li>
<code>colour</code> is self-explanatory; if not specified, defaults to black.</li>
<li>
<code>size</code> is optional and sets the font size. The default is 20.</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_label.html">agg_label</a></span>(<span class="st">"A label"</span>, <span class="dt">x =</span> <span class="dv">2002</span>, <span class="dt">y =</span> <span class="fl">0.5</span>, <span class="dt">colour =</span> RBA[<span class="st">"Blue2"</span>], <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="labels.png" width="50%" style="display: block; margin: auto;"></p>
<p>Arrows are specified with <code>agg_arrow</code>.</p>
<ul>
<li>
<code>tail.x</code> and <code>tail.y</code> specify the coordinates (in the units on the plot) of where to start the arrow at.</li>
<li>
<code>head.x</code> and <code>head.y</code> where to finish the arrow (and where the arrow head is).</li>
<li>
<code>panel</code> specifies which panel to place the arrow on.</li>
<li>
<code>colour</code> is self-explanatory.</li>
<li>
<code>lwd</code> is optional and specifies the linewidth of the arrow (default = 1).</li>
</ul>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb62-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_arrow.html">agg_arrow</a></span>(<span class="dt">tail.x =</span> <span class="dv">2000</span>, <span class="dt">tail.y =</span> <span class="dv">0</span>, <span class="dt">head.x =</span> <span class="dv">2001</span>, <span class="dt">head.y =</span> <span class="fl">0.5</span>, <span class="dt">colour =</span> RBA[<span class="st">"Blue1"</span>], <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="arrow.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="experimental-automatic-labels" class="section level2">
<h2 class="hasAnchor">
<a href="#experimental-automatic-labels" class="anchor"></a>(Experimental) Automatic labels</h2>
<p><code>arphit</code> has (experimental) functionality to <em>automatically</em> add series labels for you. If enabled, the auto labeller will run on panels with more than one series, and which do not already have text labels. If you manually set text labels for a panel, the auto labeller will skip that panel. By default, it will also add arrows from the label to the series if necessary for line series, but not for bar series. You can stop the autolabeller from adding arrows to line series (or have it add arrows to bars using the arguments <code>arrow_lines</code> and <code>arrow_bars</code> to <code>agg_autolabel</code>).</p>
<div id="series-names" class="section level3">
<h3 class="hasAnchor">
<a href="#series-names" class="anchor"></a>Series names</h3>
<p>The auto labeller will use whatever your series are called in the data. For long data, this will be the value of the group variable. This is identical to how legends are determined. Series that appear in multiple panels are only labelled once. Series that have <code>NA</code> as their name are ignored by the autolabeller.</p>
</div>
<div id="enabling-the-auto-labeller" class="section level3">
<h3 class="hasAnchor">
<a href="#enabling-the-auto-labeller" class="anchor"></a>Enabling the auto labeller</h3>
<p>Enable the auto labeller by adding <code><a href="../reference/agg_autolabel.html">agg_autolabel()</a></code>:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb63-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(long_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb63-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb63-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_autolabel.html">agg_autolabel</a></span>()</a></code></pre></div>
<p><img src="autolabel.png" width="50%" style="display: block; margin: auto;"></p>
<p>If you put text labels on a panel, that disables the auto labeller for that panel:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(long_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var), <span class="dt">layout =</span> <span class="st">"2v"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb64-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="dt">panel =</span> <span class="st">"2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_label.html">agg_label</a></span>(<span class="st">"Manual</span><span class="ch">\n</span><span class="st">label disables</span><span class="ch">\n</span><span class="st">autolabels"</span>, <span class="dt">x =</span> <span class="dv">2001</span>, <span class="dt">y =</span> <span class="fl">1.5</span>, <span class="dt">colour =</span> <span class="st">"black"</span>, <span class="dt">panel =</span> <span class="st">"2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb64-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/agg_autolabel.html">agg_autolabel</a></span>()</a></code></pre></div>
<p><img src="autolabel2.png" width="50%" style="display: block; margin: auto;"></p>
<p>The autolabeller should correctly handle left and right hand series:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date), <span class="dt">layout =</span> <span class="st">"1"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y1), <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>(<span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y2), <span class="dt">colour =</span> RBA[<span class="st">"Orange5"</span>], <span class="dt">panel =</span> <span class="st">"2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_autolabel.html">agg_autolabel</a></span>()</a></code></pre></div>
<p><img src="autolabel_rhs.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="adding-horizonal-and-vertical-lines" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-horizonal-and-vertical-lines" class="anchor"></a>Adding horizonal and vertical lines</h2>
<p>Horizontal and vertical lines are added using <code>agg_abline</code>. Horizontal lines are drawn by specifying the <code>y</code> variable _only; vertical the <code>x</code> variable only. You can also control the colour and line type. These are optional and default to a solid black line. You must also tell <code>arphit</code> which panel to put the line on.</p>
<p>The following example draws a vertical line at 2001 using the default colour and solid line. It also draws a horizontal line at -1 coloured darkred and dashed (<code>lty = 2</code>).</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_abline.html">agg_abline</a></span>(<span class="dt">x =</span> <span class="dv">2001</span>, <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb66-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_abline.html">agg_abline</a></span>(<span class="dt">y =</span> <span class="dv">-1</span>, <span class="dt">colour =</span> <span class="st">"darkred"</span>, <span class="dt">lty =</span> <span class="dv">2</span>, <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="lines.png" width="50%" style="display: block; margin: auto;"></p>
<p>If you need more control over the line, you can specify the coordinates of the line segment instead of using <code>x</code> or <code>y</code>. To do so use <code>x1</code>, <code>x2</code>, <code>y1</code> and <code>y2</code> instead of <code>x</code> and <code>y</code>. All other options are the same. For example:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_abline.html">agg_abline</a></span>(<span class="dt">x1 =</span> <span class="dv">2000</span>, <span class="dt">y1 =</span> <span class="dv">-10</span>, <span class="dt">x2 =</span> <span class="dv">2002</span>, <span class="dt">y2 =</span> <span class="dv">5</span>, <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="specificlines.png" width="50%" style="display: block; margin: auto;"></p>
<p>Entering NA (or omitting the argument) for any of <code>x1</code>, <code>y1</code>, <code>x2</code>, or <code>y2</code> will set that coordinate to the axis limit (with <code>x1</code> and <code>y1</code> going to the left and bottom axes and <code>x2</code> and <code>y2</code> to the right and top).</p>
</div>
<div id="adding-background-shading" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-background-shading" class="anchor"></a>Adding background shading</h2>
<p>Background shading can be added using <code>agg_bgshading</code>. This draws a rectangle with bottom left corner at <code>x1</code>, <code>y1</code> and top right corner at <code>x2</code>,<code>y2</code>. Passing NA for any of the four coordinates will set that coordinate to the axis limit - this is useful for creating shading that stretches across a whole panel. <code>colour</code> and <code>panel</code> are self-explanatory (colour is optional and defaults to light grey).</p>
<p>This example creates horizontal shading across the whole panel between -1 and 3 on the y axis.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb68-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_bgshading.html">agg_bgshading</a></span>(<span class="dt">x1 =</span> <span class="ot">NA</span>, <span class="dt">y1 =</span> <span class="fl">-0.5</span>, <span class="dt">x2 =</span> <span class="ot">NA</span>, <span class="dt">y2 =</span> <span class="fl">0.5</span>, <span class="dt">panel =</span> <span class="st">"1"</span>)</a></code></pre></div>
<p><img src="bgshading.png" width="50%" style="display: block; margin: auto;"></p>
<p>And this two panel example repeats the above example for panel 1, but puts light green shading between two dates on the bottom panel.</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2h"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_bgshading.html">agg_bgshading</a></span>(<span class="dt">x1 =</span> <span class="ot">NA</span>, <span class="dt">y1 =</span> <span class="fl">-0.5</span>, <span class="dt">x2 =</span> <span class="ot">NA</span>, <span class="dt">y2 =</span> <span class="fl">0.5</span>, <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb69-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_bgshading.html">agg_bgshading</a></span>(<span class="dt">x1 =</span> <span class="fl">2000.5</span>, <span class="dt">y1 =</span> <span class="ot">NA</span>, <span class="dt">x2 =</span> <span class="fl">2001.5</span>, <span class="dt">y2 =</span> <span class="ot">NA</span>, <span class="dt">panel =</span> <span class="st">"3"</span>, <span class="dt">colour =</span> <span class="st">"lightgreen"</span>)</a></code></pre></div>
<p><img src="bgshading2.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="adding-axis-labels" class="section level2">
<h2 class="hasAnchor">
<a href="#adding-axis-labels" class="anchor"></a>Adding axis labels</h2>
<p>You can add y and x axis labels to plots using <code>agg_yaxislabel</code> and <code>agg_xaxislabel</code>. These take the text for the axis label, plus an optional panel identifier. If omitted, the label is applied to all panels.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2b2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_yaxislabel.html">agg_yaxislabel</a></span>(<span class="st">"A y axis label"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb70-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_xaxislabel.html">agg_xaxislabel</a></span>(<span class="st">"An x label"</span>)</a></code></pre></div>
<p><img src="oneaxislabel.png" width="50%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2b2"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_yaxislabel.html">agg_yaxislabel</a></span>(<span class="st">"Foo"</span>, <span class="dt">panel =</span> <span class="st">"1"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_yaxislabel.html">agg_yaxislabel</a></span>(<span class="st">"Bar"</span>, <span class="dt">panel =</span> <span class="st">"3"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="../reference/agg_xaxislabel.html">agg_xaxislabel</a></span>(<span class="st">"An x label"</span>, <span class="dt">panel =</span> <span class="st">"3"</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb71-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="../reference/agg_xaxislabel.html">agg_xaxislabel</a></span>(<span class="st">"Another x label"</span>, <span class="dt">panel =</span> <span class="st">"4"</span>)</a></code></pre></div>
<p><img src="differentaxislabel.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="rotating-x-ticks" class="section level2">
<h2 class="hasAnchor">
<a href="#rotating-x-ticks" class="anchor"></a>Rotating x ticks</h2>
<p>You can rotate x ticks using the <code>srt</code> option in <code>arphitgg</code>. It represents the rotation (in degrees):</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x=</span>date,<span class="dt">y=</span>y1), <span class="dt">srt =</span> <span class="dv">45</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="xlabel-rotation.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="joining-and-missing-values" class="section level1">
<h1 class="hasAnchor">
<a href="#joining-and-missing-values" class="anchor"></a>Joining and missing values</h1>
<p>The <code>joined</code> argument in<code>arphitgg</code> controls how your graph behaves with missing values. When <code>joined = TRUE</code> (which is the default) the series will ignore the missing value and connect to the next non-missing value. When <code>joined = FALSE</code> the series will break.</p>
<p>For instance, let’s use this series, with the middle observation missing:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1">joining_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/ts">ts</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="ot">NA</span>,<span class="dv">3</span>,<span class="dv">4</span>)), <span class="dt">start =</span> <span class="dv">2000</span>, <span class="dt">frequency =</span> <span class="dv">1</span>)</a></code></pre></div>
<p>With <code>joined = TRUE</code>, the series continues straight across the missing value for 2002.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(joining_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y), <span class="dt">joined =</span> <span class="ot">TRUE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb74-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="joined.png" width="50%" style="display: block; margin: auto;"></p>
<p>But when we set <code>joined = FALSE</code>, the series does not connect over the missing observation:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(joining_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">y =</span> y), <span class="dt">joined =</span> <span class="ot">FALSE</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb75-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a></code></pre></div>
<p><img src="unjoined.png" width="50%" style="display: block; margin: auto;"></p>
</div>
<div id="adding-a-legend" class="section level1">
<h1 class="hasAnchor">
<a href="#adding-a-legend" class="anchor"></a>Adding a legend</h1>
<p>You can add a legend to your graph by adding <code><a href="../reference/agg_legend.html">agg_legend()</a></code>. This can also take one optional argument to specify how many columns to have with <code>ncol</code>; <code>arphit</code> will automatically guess if you leave it blank.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(long_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb76-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb76-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_legend.html">agg_legend</a></span>()</a></code></pre></div>
<p><img src="legend.png" width="50%" style="display: block; margin: auto;"></p>
<p><code>arphit</code> will ignore duplicate series in multiple panels (i.e. it will only put in one legend entry).</p>
<p>If a series has <code>NA</code> as it’s name, it will not get a legend entry.</p>
<div id="on-panel-legend" class="section level2">
<h2 class="hasAnchor">
<a href="#on-panel-legend" class="anchor"></a>On-panel legend</h2>
<p>You can also add the legend <em>on</em> the panel, instead of beneath the graph. This is done by specifying a location for the legend. There are two ways. The easiest is to choose one of “bottomright”, “bottom”, “bottomleft”, “left”, “topleft”, “top”, “topright”, “right” and “center”. Pass this to the optoinal <code>x</code> argument to <code>agg_legend</code> and the legend will be automatically placed in the appropriate location.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(long_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb77-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb77-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_legend.html">agg_legend</a></span>(<span class="dt">x=</span><span class="st">"topright"</span>)</a></code></pre></div>
<p><img src="onpanel-legend.png" width="50%" style="display: block; margin: auto;"></p>
<p>Multipanels are ignored for the purposes of on-panel legends - graphs are treated as a whole and panels are ignored. E.g. in a “2b2” graph, “topright” is the top right of the graph, meaning top right in panel “2”.</p>
<p>If you want fine-grained control, you can supply a value between 0 and 1 for <code>x</code> and a supply a <code>y</code> coordinate. This will place a legend in a specific place on the graph. (0,0) corresponds to the bottom left corner, (1,1) top right.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(long_data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1, <span class="dt">group =</span> group_var)) <span class="op">+</span></a>
<a class="sourceLine" id="cb78-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb78-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/agg_legend.html">agg_legend</a></span>(<span class="dt">x=</span><span class="fl">0.6</span>,<span class="dt">y=</span><span class="fl">0.9</span>)</a></code></pre></div>
<p><img src="onpanel-legend-specific-place.png" width="50%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="saving-to-a-file" class="section level1">
<h1 class="hasAnchor">
<a href="#saving-to-a-file" class="anchor"></a>Saving to a file</h1>
<p>To save your graph to a file instead of displaying it, use <code>agg_draw</code> with the optional filename command. <code>arphit</code> will determine what file to save as, based on the extension of your filename. <code>png</code>, <code>emf</code>, <code>emf+</code>, <code>svg</code> and <code>pdf</code> are supported. <code>xlsx</code> is as well, which exports the data (see below).</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1">p &lt;-<span class="st"> </span><span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(simple_data, <span class="dt">aes =</span> <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> date, <span class="dt">y =</span> y1)) <span class="op">+</span></a>
<a class="sourceLine" id="cb79-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a>
<a class="sourceLine" id="cb79-3" data-line-number="3"><span class="kw"><a href="../reference/agg_draw.html">agg_draw</a></span>(p, <span class="dt">filename =</span> <span class="st">"my-graph.png"</span>)</a>
<a class="sourceLine" id="cb79-4" data-line-number="4"><span class="kw"><a href="../reference/agg_draw.html">agg_draw</a></span>(p, <span class="dt">filename =</span> <span class="st">"my-graph.emf"</span>)</a>
<a class="sourceLine" id="cb79-5" data-line-number="5"><span class="kw"><a href="../reference/agg_draw.html">agg_draw</a></span>(p, <span class="dt">filename =</span> <span class="st">"my-graph.svg"</span>)</a>
<a class="sourceLine" id="cb79-6" data-line-number="6"><span class="kw"><a href="../reference/agg_draw.html">agg_draw</a></span>(p, <span class="dt">filename =</span> <span class="st">"my-graph.pdf"</span>)</a></code></pre></div>
<p>You can also use the newer <code>EMFplus</code> format by using extention <code>.emf+</code>. This will still write an <code>emf</code> file, but it is encoded as the newer EMF+ format.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1"><span class="kw"><a href="../reference/agg_qplot.html">agg_qplot</a></span>(data, <span class="dt">filename =</span> <span class="st">"my_filename.emf+"</span>)</a></code></pre></div>
<p>You can also export to an XLSX, which will save your graph data in a nicely formatted spreadsheet. This can be convenient for archiving, or talking with other programs.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="kw"><a href="../reference/agg_draw.html">agg_draw</a></span>(p, <span class="dt">filename =</span> <span class="st">"my-graph.xlsx"</span>)</a></code></pre></div>
<div id="a-note-about-emf-files" class="section level2">
<h2 class="hasAnchor">
<a href="#a-note-about-emf-files" class="anchor"></a>A note about EMF files</h2>
<p>EMF files are problematic:</p>
<ul>
<li>EMF+ files do not render in paint or windows photo viewer properly, but will import fine into Word or PowerPoint (and looks fine when exported to PDF from Word).</li>
<li>EMF files will <em>not</em> render if exported from Word as PDF; EMF+ will.</li>
</ul>
<p>Additionally, only EMF+ files support partial transparency; EMF files do not.</p>
<p>If you can, you should prefer SVG over EMF. SVG is a much better supported vector image format. And much less problematic in how it is rendered by R.</p>
</div>
</div>
<div id="creating-gif-animations" class="section level1">
<h1 class="hasAnchor">
<a href="#creating-gif-animations" class="anchor"></a>Creating GIF animations</h1>
<p>You can create a GIF animation by creating a list of arphitgg objects and using <code>agg_slides</code>. You can specify how many seconds each ‘slide’ should be shown for, and how many times the animation should loop (0 if infinitely). If you don’t supply a filename, it will open it externally.</p>
<p>Here we create a dataframe of four series over the same time period.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" data-line-number="1">gif_data &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>( </a>
<a class="sourceLine" id="cb82-2" data-line-number="2">  <span class="dt">series =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dt">each =</span> <span class="dv">10</span>), </a>
<a class="sourceLine" id="cb82-3" data-line-number="3">  <span class="dt">x =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq.Date">seq.Date</a></span>(<span class="dt">from =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/as.Date">as.Date</a></span>(<span class="st">"2000-03-01"</span>), <span class="dt">by =</span> <span class="st">"quarter"</span>, </a>
<a class="sourceLine" id="cb82-4" data-line-number="4">                   <span class="dt">length.out =</span> <span class="dv">10</span>)), </a>
<a class="sourceLine" id="cb82-5" data-line-number="5">  <span class="dt">y =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">4</span><span class="op">*</span><span class="dv">10</span>))</a></code></pre></div>
<p>We then split this into a list of four dataframes, one for each series and construct a graph for each series</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1">gif_data_list &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/split">split</a></span>(gif_data, gif_data<span class="op">$</span>series)</a>
<a class="sourceLine" id="cb83-2" data-line-number="2">gg_list &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/lapply">lapply</a></span>(gif_data_list, <span class="cf">function</span>(data) {</a>
<a class="sourceLine" id="cb83-3" data-line-number="3">  <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(data, <span class="kw"><a href="../reference/agg_aes.html">agg_aes</a></span>(<span class="dt">x =</span> x, <span class="dt">y =</span> y)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/agg_line.html">agg_line</a></span>()</a>
<a class="sourceLine" id="cb83-4" data-line-number="4">})</a></code></pre></div>
<p>To create the GIF animation, just pass <code>gg_list</code> to <code>agg_slides</code></p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1"><span class="kw"><a href="../reference/agg_slides.html">agg_slides</a></span>(gg_list, <span class="dt">filename =</span> <span class="st">"agg.gif"</span>)</a></code></pre></div>
<p><img src="agg.gif" width="50%" style="display: block; margin: auto;"> You do need to be careful. The different scales can cause the graphs to be out of alignment. This could be solved by setting the same <code>agg_ylim</code> for each graph.</p>
<p>The graphs don’t need to be the same time series, that was just a convenient example. Here’s a gif going through the different possible layouts, but only 3 times.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1">gg_list &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(</a>
<a class="sourceLine" id="cb85-2" data-line-number="2">  <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"1"</span>), <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2v"</span>), <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2h"</span>),</a>
<a class="sourceLine" id="cb85-3" data-line-number="3">  <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"2b2"</span>), <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"3v"</span>), <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"3h"</span>),</a>
<a class="sourceLine" id="cb85-4" data-line-number="4">  <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"3b2"</span>), <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"4h"</span>), <span class="kw"><a href="../reference/arphitgg.html">arphitgg</a></span>(<span class="dt">layout =</span> <span class="st">"4b2"</span>)</a>
<a class="sourceLine" id="cb85-5" data-line-number="5">)</a></code></pre></div>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" data-line-number="1"><span class="kw"><a href="../reference/agg_slides.html">agg_slides</a></span>(gg_list, <span class="dt">filename =</span> <span class="st">"agg_layouts.gif"</span>, <span class="dt">loop =</span> <span class="dv">3</span>)</a></code></pre></div>
<p><img src="agg_layouts.gif" width="50%" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li>
<a href="#data-types">Data types</a><ul class="nav nav-pills nav-stacked">
<li><a href="#tibbles-and-data-frames">tibbles and data.frames</a></li>
      <li><a href="#ts">ts</a></li>
      </ul>
</li>
      <li>
<a href="#layouts-and-panels">Layouts and panels</a><ul class="nav nav-pills nav-stacked">
<li><a href="#portrait-size-graphs">Portrait-size graphs</a></li>
      <li><a href="#advanced-custom-graph-sizes">(Advanced) Custom graph sizes</a></li>
      </ul>
</li>
      <li>
<a href="#layers-and-aesthetics">Layers and aesthetics</a><ul class="nav nav-pills nav-stacked">
<li><a href="#aesthetic">Aesthetic</a></li>
      <li><a href="#layers">Layers</a></li>
      </ul>
</li>
      <li>
<a href="#series-colours-and-other-attributes">Series colours and other attributes</a><ul class="nav nav-pills nav-stacked">
<li><a href="#colours">Colours</a></li>
      <li><a href="#line-markers">Line markers</a></li>
      <li><a href="#line-type">Line type</a></li>
      <li><a href="#line-width">Line width</a></li>
      <li><a href="#bar-outline">Bar outline</a></li>
      <li><a href="#point-size">Point size</a></li>
      </ul>
</li>
      <li><a href="#titles-and-subtitles">Titles and subtitles</a></li>
      <li><a href="#panel-titles-and-subtitles">Panel titles and subtitles</a></li>
      <li>
<a href="#units">Units</a><ul class="nav nav-pills nav-stacked">
<li><a href="#x-axis-units">x-axis units</a></li>
      </ul>
</li>
      <li><a href="#sources-and-footnotes">Sources and footnotes</a></li>
      <li>
<a href="#axis-limits">Axis limits</a><ul class="nav nav-pills nav-stacked">
<li><a href="#y-axis">Y axis</a></li>
      <li><a href="#x-axis">X axis</a></li>
      <li><a href="#log-axes">Log axes</a></li>
      </ul>
</li>
      <li><a href="#shading-between-series">Shading between series</a></li>
      <li>
<a href="#plot-annotations-labels-arrows-and-lines">Plot annotations (labels, arrows and lines)</a><ul class="nav nav-pills nav-stacked">
<li><a href="#adding-labels-and-arrows">Adding labels and arrows</a></li>
      <li><a href="#experimental-automatic-labels">(Experimental) Automatic labels</a></li>
      <li><a href="#adding-horizonal-and-vertical-lines">Adding horizonal and vertical lines</a></li>
      <li><a href="#adding-background-shading">Adding background shading</a></li>
      <li><a href="#adding-axis-labels">Adding axis labels</a></li>
      <li><a href="#rotating-x-ticks">Rotating x ticks</a></li>
      </ul>
</li>
      <li><a href="#joining-and-missing-values">Joining and missing values</a></li>
      <li>
<a href="#adding-a-legend">Adding a legend</a><ul class="nav nav-pills nav-stacked">
<li><a href="#on-panel-legend">On-panel legend</a></li>
      </ul>
</li>
      <li>
<a href="#saving-to-a-file">Saving to a file</a><ul class="nav nav-pills nav-stacked">
<li><a href="#a-note-about-emf-files">A note about EMF files</a></li>
      </ul>
</li>
      <li><a href="#creating-gif-animations">Creating GIF animations</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Angus Moore.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
